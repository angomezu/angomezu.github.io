<!-- Save as: assets/fiinbro_architecture.svg -->
<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="520" viewBox="0 0 1200 520">
  <defs>
    <style>
      .box { fill:#ffffff; stroke:#d8d8d8; stroke-width:2; rx:16; }
      .title { font: 700 18px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill:#111; }
      .text  { font: 14px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill:#333; }
      .muted { font: 13px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill:#555; }
      .arrow { stroke:#111; stroke-width:2; fill:none; marker-end:url(#m); }
      .dash  { stroke-dasharray: 6 6; }
    </style>
    <marker id="m" markerWidth="10" markerHeight="10" refX="8" refY="3" orient="auto">
      <path d="M0,0 L9,3 L0,6 Z" fill="#111"/>
    </marker>
  </defs>

  <!-- Column labels -->
  <text x="70"  y="40" class="muted">Sources</text>
  <text x="470" y="40" class="muted">Ingestion &amp; Processing</text>
  <text x="840" y="40" class="muted">Storage &amp; BI</text>

  <!-- Left: CRM -->
  <rect x="40" y="80" width="320" height="140" class="box"/>
  <text x="70" y="120" class="title">CRM Platform</text>
  <text x="70" y="150" class="text">CRM API (leads, updates)</text>
  <text x="70" y="175" class="text">Webhooks (events)</text>

  <!-- Middle top: Batch ETL -->
  <rect x="420" y="70" width="360" height="160" class="box"/>
  <text x="450" y="110" class="title">Automated Cloud ETL (Batch)</text>
  <text x="450" y="140" class="text">Python incremental sync</text>
  <text x="450" y="165" class="text">Daily schedule (Render Cron)</text>
  <text x="450" y="190" class="text">SQLAlchemy / validation</text>

  <!-- Middle bottom: Webhook service -->
  <rect x="420" y="270" width="360" height="180" class="box"/>
  <text x="450" y="310" class="title">Real-time Event Ingestion</text>
  <text x="450" y="340" class="text">Flask webhook service (Render)</text>
  <text x="450" y="365" class="text">Captures: lead.created / deleted</text>
  <text x="450" y="390" class="text">and lead.status.changed</text>

  <!-- Right: Postgres -->
  <rect x="820" y="120" width="340" height="150" class="box"/>
  <text x="850" y="160" class="title">PostgreSQL (Render)</text>
  <text x="850" y="190" class="text">Normalized schema + indexing</text>
  <text x="850" y="215" class="text">Full event history (audit)</text>

  <!-- Right: Power BI -->
  <rect x="820" y="310" width="340" height="170" class="box"/>
  <text x="850" y="350" class="title">Power BI</text>
  <text x="850" y="380" class="text">8 dashboards (sales, pipeline,</text>
  <text x="850" y="403" class="text">conversion, trends, exec activity)</text>
  <text x="850" y="430" class="text">Standardized DAX measure library</text>

  <!-- Arrows -->
  <!-- CRM API -> Batch ETL -->
  <path class="arrow" d="M360 120 C395 120, 395 120, 420 120"/>
  <!-- CRM Webhooks -> Flask -->
  <path class="arrow" d="M360 180 C395 180, 395 335, 420 335"/>
  <!-- Batch ETL -> Postgres -->
  <path class="arrow" d="M780 150 C805 150, 805 170, 820 170"/>
  <!-- Flask -> Postgres -->
  <path class="arrow" d="M780 360 C805 360, 805 220, 820 220"/>
  <!-- Postgres -> Power BI -->
  <path class="arrow dash" d="M990 270 C990 285, 990 295, 990 310"/>
</svg>
